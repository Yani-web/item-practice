<!DOCTYPE html>
<html lang = "en">
<head>
<meta  charset="utf-8" />
<title>animate test</title>

<script type="text/javascript">
function positionMessage() {    //设置元素的style定位
  if (!document.getElementById) return false;
  if (!document.getElementById("message")) return false;
  var elem = document.getElementById("message");
  elem.style.position = "absolute";
  elem.style.left = "50px";
  elem.style.top = "100px";
  moveElement("message",125,25,20); //x y的位置 20——移动速度 id为message的
  if (!document.getElementById("message2")) return false;
  var elem = document.getElementById("message2");
  elem.style.position = "absolute";
  elem.style.left = "50px";
  elem.style.top = "50px";
  moveElement("message2",125,125,20);  //x y的位置 20——移动速度 id为message2的
}



function moveElement(elementID, final_x, final_y, interval) {  //final_x, final_y为元素的left和top的最终px
    if (!document.getElementById) return false;
    if (!document.getElementById(elementID)) return false;
    var elem = document.getElementById(elementID);
    var xpos = parseInt(elem.style.left); //把top和left的具体数值提取出来
    var ypos = parseInt(elem.style.top);
    if (xpos == final_x && ypos == final_y) {      //当top和left的px到了实际位置 那么停止；如果没到就++
        return true; 
      }
    if (xpos < final_x) {
        xpos++;
    }
    if (xpos > final_x) {
        xpos--;
    }
    if (ypos < final_y) {
        ypos++;
    }
    if (ypos > final_y) {
        ypos--;
    }
    elem.style.left = xpos + "px";
    elem.style.top = ypos + "px";
    var repeat = "moveElement('"+elementID+"', "+final_x+", "+final_y+", "+interval+")";
    movement = setTimeout(repeat, interval);
}

function addLoadEvent(func) {
  var oldonload = window.onload;
  if (typeof window.onload != 'function') {
    window.onload = func;
  } else {
    window.onload = function() {
      oldonload();
      func();
    }
  }
}
addLoadEvent(positionMessage);
addLoadEvent(moveElement);

        </script>
    </head>
    <body>
        <p id="message">Whee!</p>
        <p id="message2">Whoa!</p>
    </body>
</html>